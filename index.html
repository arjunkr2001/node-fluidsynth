<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Monoton&display=swap" rel="stylesheet">
    <title>ConChords</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body{
            height: 100vh;
            width: 100vw;
            background: linear-gradient(to right,rgb(75, 75, 229),rgb(68, 255, 255));
            display: grid;
            place-items: center;
        }
        nav{
            position: fixed;
            top: 10px;
            left: 20px;
            display: flex;
            gap: 5px;
        }
        h1{
            font-family: 'Monoton', cursive;
            color: aliceblue;
            font-size: 3rem;
        }
        .btnArea{
            height: 170px;
            width: 170px;
            display: grid;
            place-items: center;
            /* padding: 20px; */
            background-color: rgba(26, 255, 0,0);
            border: 2px solid cyan;
            border-radius: 50%;
            box-shadow: 5px 5px 7px rgba(0,0,0,0.5);
            transition: 0.5s;
        }
        .btnArea:hover{
            /* padding: 25px; */
            height: 180px;
            width: 180px;
            border: 1px solid cyan;
            background-color: rgb(50, 255, 0);
            box-shadow: 10px 10px 12px rgba(0,0,0,0.5);
        }
        #loader{
            width: 100px;
            height: 100px;
            margin: 20px;
            display:inline-block;
        }
        .visualizer{
            position: absolute;
            bottom: 100px;
            width: 100px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .visualizer:svg{
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <nav>
        <h1>ConChords</h1>
        <svg width="100px" height="70px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
            viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
            <rect fill="#fff" width="3" height="100" transform="translate(0) rotate(180 3 50)">
            <animate
                attributeName="height"
                attributeType="XML"
                dur="1s"
                values="30; 100; 30"
                repeatCount="indefinite"/>
            </rect>
            <rect x="17" fill="#fff" width="3" height="100" transform="translate(0) rotate(180 20 50)">
            <animate
                attributeName="height"
                attributeType="XML"
                dur="1s"
                values="30; 100; 30"
                repeatCount="indefinite"
                begin="0.1s"/>
            </rect>
            <rect x="40" fill="#fff" width="3" height="100" transform="translate(0) rotate(180 40 50)">
            <animate
                attributeName="height"
                attributeType="XML"
                dur="1s"
                values="30; 100; 30"
                repeatCount="indefinite"
                begin="0.3s"/>
            </rect>
            <rect x="60" fill="#fff" width="3" height="100" transform="translate(0) rotate(180 58 50)">
            <animate
                attributeName="height"
                attributeType="XML"
                dur="1s"
                values="30; 100; 30"
                repeatCount="indefinite"
                begin="0.5s"/>
            </rect>
            <rect x="80" fill="#fff" width="3" height="100" transform="translate(0) rotate(180 76 50)">
            <animate
                attributeName="height"
                attributeType="XML"
                dur="1s"
                values="30; 100; 30"
                repeatCount="indefinite"
                begin="0.1s"/>
            </rect>
        </svg>
    </nav>
    <div class="btnArea" onclick="fun()">
        <!-- <img src="http://localhost:8080/startBtn.png" width="120" alt="btn"> -->
        <svg height="120px" width="120px" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#000000" stroke="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:#ffffff;} </style> <g> <path class="st0" d="M423.262,91.992c-16.877-15.91-43.434-15.098-59.32,1.778c-15.894,16.877-15.098,43.434,1.779,59.32 c32.082,30.213,49.754,71.238,49.754,115.5c0,87.934-71.541,159.476-159.476,159.476S96.525,356.524,96.525,268.59 c0-44.262,17.668-85.287,49.754-115.5c16.877-15.885,17.672-42.442,1.779-59.32c-15.885-16.885-42.455-17.688-59.32-1.778 C40.344,137.557,12.59,201.926,12.59,268.59C12.59,402.803,121.783,512,256,512c134.213,0,243.41-109.197,243.41-243.41 C499.41,201.926,471.656,137.557,423.262,91.992z"></path> <path class="st0" d="M256,268.59c23.178,0,41.967-15.033,41.967-33.574V33.574C297.967,15.033,279.178,0,256,0 c-23.178,0-41.967,15.033-41.967,33.574v201.443C214.033,253.557,232.822,268.59,256,268.59z"></path> </g> </g></svg>
    </div>
    <div class="visualizer">
        <svg width="100%" height="100%" version="1.1" id="L5" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
            viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve">
            <circle fill="#fff" stroke="none" cx="6" cy="50" r="6">
                <animateTransform 
                attributeName="transform" 
                dur="1s" 
                type="translate" 
                values="0 15 ; 0 -15; 0 15" 
                repeatCount="indefinite" 
                begin="0.1"/>
            </circle>
            <circle fill="#fff" stroke="none" cx="30" cy="50" r="6">
                <animateTransform 
                attributeName="transform" 
                dur="1s" 
                type="translate" 
                values="0 10 ; 0 -10; 0 10" 
                repeatCount="indefinite" 
                begin="0.2"/>
            </circle>
            <circle fill="#fff" stroke="none" cx="54" cy="50" r="6">
                <animateTransform 
                attributeName="transform" 
                dur="1s" 
                type="translate" 
                values="0 5 ; 0 -5; 0 5" 
                repeatCount="indefinite" 
                begin="0.3"/>
            </circle>
        </svg>
    </div>

    <script>
        const socket = new WebSocket('ws://localhost:8081')
        let play = 0
        function fun(){
            if(play===0){
                socket.send("start")
                document.querySelector(".btnArea").innerHTML = `<svg id="loader" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">
        <circle fill="none" stroke="#fff" stroke-width="6" stroke-miterlimit="15" stroke-dasharray="14.2472,14.2472" cx="50" cy="50" r="47" >
          <animateTransform 
             attributeName="transform" 
             attributeType="XML" 
             type="rotate"
             dur="5s" 
             from="0 50 50"
             to="360 50 50" 
             repeatCount="indefinite" />
      </circle>
      <circle fill="none" stroke="#fff" stroke-width="1" stroke-miterlimit="10" stroke-dasharray="10,10" cx="50" cy="50" r="39">
          <animateTransform 
             attributeName="transform" 
             attributeType="XML" 
             type="rotate"
             dur="5s" 
             from="0 50 50"
             to="-360 50 50" 
             repeatCount="indefinite" />
      </circle>
      <g fill="#fff">
      <rect x="30" y="35" width="5" height="30">
        <animateTransform 
           attributeName="transform" 
           dur="1s" 
           type="translate" 
           values="0 5 ; 0 -5; 0 5" 
           repeatCount="indefinite" 
           begin="0.1"/>
      </rect>
      <rect x="40" y="35" width="5" height="30" >
        <animateTransform 
           attributeName="transform" 
           dur="1s" 
           type="translate" 
           values="0 5 ; 0 -5; 0 5" 
           repeatCount="indefinite" 
           begin="0.2"/>
      </rect>
      <rect x="50" y="35" width="5" height="30" >
        <animateTransform 
           attributeName="transform" 
           dur="1s" 
           type="translate" 
           values="0 5 ; 0 -5; 0 5" 
           repeatCount="indefinite" 
           begin="0.3"/>
      </rect>
      <rect x="60" y="35" width="5" height="30" >
        <animateTransform 
           attributeName="transform" 
           dur="1s" 
           type="translate" 
           values="0 5 ; 0 -5; 0 5"  
           repeatCount="indefinite" 
           begin="0.4"/>
      </rect>
      <rect x="70" y="35" width="5" height="30" >
        <animateTransform 
           attributeName="transform" 
           dur="1s" 
           type="translate" 
           values="0 5 ; 0 -5; 0 5" 
           repeatCount="indefinite" 
           begin="0.5"/>
      </rect>
      </g>
    </svg>`
                play++;
            }
            else if(play){
                socket.send("stop")
                play--;
            }
        }
        socket.onmessage = msg =>{
            console.log(msg)
            if(msg.data==="closed"){
                document.querySelector(".btnArea").innerHTML = `<svg height="120px" width="120px" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#000000" stroke="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:#ffffff;} </style> <g> <path class="st0" d="M423.262,91.992c-16.877-15.91-43.434-15.098-59.32,1.778c-15.894,16.877-15.098,43.434,1.779,59.32 c32.082,30.213,49.754,71.238,49.754,115.5c0,87.934-71.541,159.476-159.476,159.476S96.525,356.524,96.525,268.59 c0-44.262,17.668-85.287,49.754-115.5c16.877-15.885,17.672-42.442,1.779-59.32c-15.885-16.885-42.455-17.688-59.32-1.778 C40.344,137.557,12.59,201.926,12.59,268.59C12.59,402.803,121.783,512,256,512c134.213,0,243.41-109.197,243.41-243.41 C499.41,201.926,471.656,137.557,423.262,91.992z"></path> <path class="st0" d="M256,268.59c23.178,0,41.967-15.033,41.967-33.574V33.574C297.967,15.033,279.178,0,256,0 c-23.178,0-41.967,15.033-41.967,33.574v201.443C214.033,253.557,232.822,268.59,256,268.59z"></path> </g> </g></svg>`
            }
            else if(msg.data==='piano'){
                document.querySelector(".btnArea").innerHTML = `<svg height="100px" width="100px" version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill="#ffffff" d="M60,0H4C1.789,0,0,1.789,0,4v56c0,2.211,1.789,4,4,4h56c2.211,0,4-1.789,4-4V4C64,1.789,62.211,0,60,0z M15,62H4c-1.104,0-2-0.896-2-2V4c0-1.104,0.641-2,2-2h7v39c0,0.553,0.447,1,1,1h3V62z M31,62H17V42h3c0.553,0,1-0.447,1-1V2h6v39 c0,0.553,0.447,1,1,1h3V62z M47,62H33V42h3c0.553,0,1-0.447,1-1V2h6v39c0,0.553,0.447,1,1,1h3V62z M62,60c0,1.104-0.896,2-2,2H49V42 h3c0.553,0,1-0.447,1-1V2h7c1.016,0,2,0.896,2,2V60z"></path> </g></svg>`
            }
            else if(msg.data==='drum'){
                document.querySelector(".btnArea").innerHTML = `<svg 100px" width="100px"  version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:none;stroke:#ffffff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;} </style> <g> <path d="M23,15.2c-1.9,0.5-4.2,0.8-7,0.8s-5.1-0.3-7-0.8v2c2.2,0.5,4.6,0.8,7,0.8s4.8-0.3,7-0.8V15.2z"></path> <path d="M16,6C9.2,6,2,8.1,2,12c0,2.1,2.1,3.6,5,4.7v-2.1c-1.9-0.8-3-1.7-3-2.5c0-1.7,4.6-4,12-4s12,2.3,12,4c0,0.8-1.1,1.8-3,2.5 v2.1c2.9-1,5-2.6,5-4.7C30,8.1,22.8,6,16,6z"></path> </g> <g> <path d="M7,14.5c-1.9-0.8-3-1.7-3-2.5c0-0.3,0.2-0.7,0.5-1H3c-0.6,0-1,0.4-1,1v12c0,2.1,2.1,3.6,5,4.7V14.5z"></path> <path d="M23,15.2c-1.9,0.5-4.2,0.8-7,0.8s-5.1-0.3-7-0.8v14c2.2,0.5,4.6,0.8,7,0.8s4.8-0.3,7-0.8V15.2z M19.1,25.7 c0.1,0.4,0,0.9-0.4,1.1c-0.2,0.1-0.4,0.2-0.6,0.2s-0.4-0.1-0.6-0.2c-0.9-0.7-2.2-0.7-3.1,0c-0.4,0.3-0.8,0.3-1.2,0 c-0.4-0.3-0.5-0.7-0.4-1.1c0.4-1.1,0-2.3-1-3c-0.4-0.3-0.5-0.7-0.4-1.1c0.1-0.4,0.5-0.7,1-0.7c1.2,0,2.2-0.7,2.5-1.8 c0.1-0.4,0.5-0.7,1-0.7s0.8,0.3,1,0.7c0.4,1.1,1.4,1.8,2.5,1.8c0.4,0,0.8,0.3,1,0.7c0.1,0.4,0,0.9-0.4,1.1 C19.1,23.4,18.7,24.6,19.1,25.7z"></path> <path d="M29,11h-1.5c0.3,0.3,0.5,0.7,0.5,1c0,0.8-1.1,1.8-3,2.5v14.1c2.9-1,5-2.6,5-4.7V12C30,11.4,29.6,11,29,11z"></path> </g> <g> <path d="M14,12c-0.4,0-0.7-0.2-0.9-0.6c-0.2-0.5,0-1.1,0.5-1.3l15-7c0.5-0.2,1.1,0,1.3,0.5s0,1.1-0.5,1.3l-15,7 C14.3,12,14.1,12,14,12z"></path> </g> <g> <path d="M12,15c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S13.7,15,12,15z"></path> </g> </g></svg>`
            }
            else if(msg.data==='flute'){
                document.querySelector(".btnArea").innerHTML = `<svg 100px" width="100px"  version="1.1" id="Icons" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" xml:space="preserve" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:none;stroke:#ffffff;stroke-width:2;stroke-linejoin:round;stroke-miterlimit:10;} .st1{fill:none;stroke:#ffffff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;} </style> <ellipse transform="matrix(0.7071 -0.7071 0.7071 0.7071 -3.7059 20.9425)" class="st1" cx="23.4" cy="14.9" rx="2.9" ry="4.7"></ellipse> <path class="st1" d="M4,3h4.2C11.4,3,14,5.6,14,8.8V22c0,1.1,0.9,2,2,2h0c1.1,0,2-0.9,2-2v-3.8c0-1.4,0.5-2.9,1.3-4l0.2-0.3"></path> <path class="st1" d="M5,3l1.4,2.1C6.8,5.7,7.4,6,8,6h0c1.1,0,2,0.9,2,2v13.8c0,4,3.2,7.2,7.2,7.2h0c3.7,0,6.8-3,6.8-6.8v0 c0-1.2,0.3-2.4,0.9-3.4"></path> <line class="st1" x1="15" y1="11" x2="13" y2="11"></line> <line class="st1" x1="15" y1="14" x2="13" y2="14"></line> <line class="st1" x1="15" y1="17" x2="13" y2="17"></line> <line class="st1" x1="15" y1="20" x2="13" y2="20"></line> </g></svg>`
            }
        }
    </script>
</body>
</html>